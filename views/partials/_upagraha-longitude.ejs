<%# views/partials/_upagraha-longitude.ejs - Displays Upagraha Longitude table %>

<% /* This partial expects 'upagrahaLongitudeData' object with a 'table' property */ %>

<%
const upagrahaNamesMap = {
    "Dhuma": "धूम",
    "Vyatipata": "व्यतिपात",
    "Parivesh": "परिवेश",
    "Indrachapa": "इंद्रचाप",
    "Upaketu": "उपकेतु",
    "Gulika": "गुलिका",
    "Kala": "काल",
    "Mrityu": "मृत्यु",
    "Ardhaprahara": "अर्धप्रहर",
    "Yamakantaka": "यमकांतक"
};

const rashiNamesMap = {
    "Aries": "मेष",
    "Taurus": "वृषभ",
    "Gemini": "मिथुन",
    "Cancer": "कर्क",
    "Leo": "सिंह",
    "Virgo": "कन्या",
    "Libra": "तुला",
    "Scorpio": "वृश्चिक",
    "Sagittarius": "धनु",
    "Capricorn": "मकर",
    "Aquarius": "कुंभ",
    "Pisces": "मीन"
};

const nakshatraNamesMap = {
    "Ashwini": "अश्विनी",
    "Bharani": "भरणी",
    "Krittika": "कृतिका",
    "Rohini": "रोहिणी",
    "Mrigashira": "मृगशिरा",
    "Ardra": "आर्द्रा",
    "Punarvasu": "पुनर्वसु",
    "Pushya": "पुष्य",
    "Ashlesha": "आश्लेषा",
    "Magha": "मघा",
    "Purva Phalguni": "पूर्व फाल्गुनी",
    "Uttara Phalguni": "उत्तर फाल्गुनी",
    "Hasta": "हस्त",
    "Chitra": "चित्रा",
    "Swati": "स्वाति",
    "Vishakha": "विशाखा",
    "Anuradha": "अनुराधा",
    "Jyeshtha": "ज्येष्ठा",
    "Moola": "मूल",
    "Purva Ashadha": "पूर्वाषाढ़ा",
    "Uttara Ashadha": "उत्तराषाढ़ा",
    "Shravana": "श्रवण",
    "Dhanishta": "धनिष्ठा",
    "Shatabhisha": "शतभिषा",
    "Purva Bhadrapada": "पूर्व भाद्रपद",
    "Uttara Bhadrapada": "उत्तर भाद्रपद",
    "Revati": "रेवती"
};
%>

<div class="w-full text-left">
    <h1 class="text-center text-2xl font-semibold mb-5 relative pb-3 section-title" style="color: #724121;">
        <%= customer.lang === 'hi' ? 'उपग्रह देशांतर' : 'Upagraha Longitude' %>
    </h1>

    <% if (upagrahaLongitudeData.data.planets && upagrahaLongitudeData.data.planets.length > 0) { %>
        <div class="overflow-x-auto w-full mb-8 rounded-md">
            <table class="w-full text-left text-md table-auto">
                <thead>
                    <tr class="text-white text-md" style="background-color: #724121;">
                        <th class="px-1 py-3 text-left min-w-[80px]"><%= customer.lang === 'hi' ? 'उपग्रह' : 'Upagraha' %></th>
                        <th class="px-1 py-3 text-left min-w-[80px]"><%= customer.lang === 'hi' ? 'देशांतर' : 'Longitude' %></th>
                        <th class="px-1 py-3 text-left min-w-[80px]"><%= customer.lang === 'hi' ? 'राशि' : 'Rashi' %></th>
                        <th class="px-1 py-3 text-left min-w-[100px]"><%= customer.lang === 'hi' ? 'नक्षत्र' : 'Nakshatra' %></th>
                        <th class="px-1 py-3 text-left min-w-[50px]"><%= customer.lang === 'hi' ? 'पद' : 'Pada' %></th>
                    </tr>
                </thead>
                <tbody>
                    <% upagrahaLongitudeData.data.planets.forEach((row, index) => { %>
                        <%
                            let rowClass = 'text-md';
                            if (index % 2 !== 0) {
                                rowClass += ' bg-gray-50';
                            }
                        %>
                        <tr class="<%= rowClass %>">
                            <td class="px-1 py-3" style="color: #724121;">
                                <%= customer.lang === 'hi' && upagrahaNamesMap[row.name] ? upagrahaNamesMap[row.name] : row.name %>
                            </td>
                            <td class="px-1 py-3" style="color: #724121;"><%= row.longitude%></td>
                            <td class="px-1 py-3" style="color: #724121;">
                                <%= customer.lang === 'hi' && rashiNamesMap[row.rashi_lord] ? rashiNamesMap[row.rashi_lord] : row.rashi_lord %>
                            </td>
                            <td class="px-1 py-3" style="color: #724121;">
                                <%= customer.lang === 'hi' && nakshatraNamesMap[row.nakshatra] ? nakshatraNamesMap[row.nakshatra] : row.nakshatra %>
                            </td>
                            <td class="px-1 py-3" style="color: #724121;"><%= row.nakshatra_pada %></td>
                        </tr>
                    <% }); %>
                </tbody>
            </table>
        </div>
    <% } else { %>
        <p class="text-center" style="color: #724121;">
            <%= customer.lang === 'hi' ? 'कोई उपग्रह देशांतर डेटा उपलब्ध नहीं है।' : 'No Upagraha Longitude data available.' %>
        </p>
    <% } %>
</div>